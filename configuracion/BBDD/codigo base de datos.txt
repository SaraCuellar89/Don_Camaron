CREATE TABLE Carrito (
  Usuarioid_usuario int(5) NOT NULL, 
  Menuid_menu       int(5) NOT NULL, 
  cantidad          int(2), 
  PRIMARY KEY (Usuarioid_usuario, 
  Menuid_menu)
);

CREATE TABLE Menu (
  id_menu               int(5) NOT NULL AUTO_INCREMENT, 
  nombre                varchar(40), 
  descripcion           varchar(255), 
  imagen                varchar(255), 
  precio                int(20), 
  Tipo_Menuid_tipo_menu int(5) NOT NULL, 
  PRIMARY KEY (id_menu)
);

CREATE TABLE Pedido (
  id_pedido         int(5) NOT NULL AUTO_INCREMENT, 
  codigo            varchar(10), 
  fecha             date, 
  estado            varchar(20), 
  Usuarioid_usuario int(5) NOT NULL, 
  PRIMARY KEY (id_pedido)
);

CREATE TABLE Reserva (
  id_reserva          int(5) NOT NULL AUTO_INCREMENT, 
  codigo_reserva      varchar(10), 
  mesas               int(3), 
  fecha               date, 
  Usuarioid_usuario   int(5) NOT NULL, 
  Sucursalid_sucursal int(5) NOT NULL, 
  PRIMARY KEY (id_reserva)
);

CREATE TABLE Sucursal (
  id_sucursal       int(5) NOT NULL AUTO_INCREMENT, 
  nombre            varchar(30), 
  direccion         varchar(50), 
  imagen            varchar(255), 
  total_mesas       int(5), 
  mesas_disponibles int(5), 
  PRIMARY KEY (id_sucursal)
);

CREATE TABLE Tipo_Menu (
  id_tipo_menu int(5) NOT NULL AUTO_INCREMENT, 
  tipo_menu    varchar(30), 
  PRIMARY KEY (id_tipo_menu)
);

CREATE TABLE Usuario (
  id_usuario int(5) NOT NULL AUTO_INCREMENT, 
  rol        varchar(20), 
  nombres    varchar(40), 
  documento  int(10), 
  telefono   int(10), 
  Correo     varchar(40), 
  contrasena varchar(255), 
  PRIMARY KEY (id_usuario)
);

ALTER TABLE Reserva 
  ADD CONSTRAINT FKReserva291145 
  FOREIGN KEY (Usuarioid_usuario) REFERENCES Usuario (id_usuario)
  ON DELETE CASCADE;

ALTER TABLE Reserva 
  ADD CONSTRAINT FKReserva622087 
  FOREIGN KEY (Sucursalid_sucursal) REFERENCES Sucursal (id_sucursal)
  ON DELETE CASCADE;

ALTER TABLE Pedido 
  ADD CONSTRAINT FKPedido329779 
  FOREIGN KEY (Usuarioid_usuario) REFERENCES Usuario (id_usuario)
  ON DELETE CASCADE;

ALTER TABLE Carrito 
  ADD CONSTRAINT FKCarrito6554 
  FOREIGN KEY (Usuarioid_usuario) REFERENCES Usuario (id_usuario)
  ON DELETE CASCADE;

ALTER TABLE Carrito 
  ADD CONSTRAINT FKCarrito798292 
  FOREIGN KEY (Menuid_menu) REFERENCES Menu (id_menu)
  ON DELETE CASCADE;

ALTER TABLE Menu 
  ADD CONSTRAINT FKMenu842525 
  FOREIGN KEY (Tipo_Menuid_tipo_menu) REFERENCES Tipo_Menu (id_tipo_menu)
  ON DELETE CASCADE;
